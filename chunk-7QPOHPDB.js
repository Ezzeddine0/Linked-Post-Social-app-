import{g as L,h as T}from"./chunk-J7ER4BOE.js";import{a as q,b as g,c as D,d as G,g as A,h as V,i as k,j as U,k as I,l as $,m as j,n as z,p as Z,r as H}from"./chunk-AZPCGIVJ.js";import{h as M}from"./chunk-L3S2AP4B.js";import{$ as N,Ab as n,Bb as O,Hb as P,Ib as w,Ma as l,Y as E,ab as c,eb as p,ib as F,lb as i,mb as t,nb as h,rb as B,sb as R}from"./chunk-SER4P5WU.js";var y=(r,f)=>({"is-valid":r,"is-invalid":f});function J(r,f){r&1&&(i(0,"p",6),n(1,"Name must be between 3 and 15 char"),t())}function K(r,f){r&1&&(i(0,"p",6),n(1,"Enter a valid Email"),t())}function Q(r,f){r&1&&(i(0,"p",6),n(1,"Enter a strong Password"),t())}function W(r,f){r&1&&(i(0,"div",6)(1,"p"),n(2,"Password is not matched!"),t()())}function X(r,f){if(r&1&&(i(0,"p",6),n(1),t()),r&2){let u=R();l(),O(u.errorMessage)}}function Y(r,f){r&1&&h(0,"i",20)}var ae=(()=>{class r{constructor(){this._FormBuilder=E(z),this._Router=E(L),this._UsersService=E(H),this.registerForm=this._FormBuilder.group({name:[null,[g.required,g.minLength(3),g.maxLength(15)]],email:[null,[g.required,g.email]],password:[null,[g.required,g.pattern(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/)]],rePassword:[null,[g.required]],dateOfBirth:[null,[g.required]],gender:[null,[g.required]]},{validators:[this.matchPassword]}),this.isLoading=!1,this.errorMessage=""}matchPassword(u){return u.get("password")?.value===u.get("rePassword")?.value?null:{mismatch:!0}}signupSubmit(){this.registerForm.valid&&(this.isLoading=!0,this.errorMessage="",this._UsersService.signup(this.registerForm.value).subscribe({next:u=>{console.log(u),this._Router.navigate(["/login"])},error:u=>{console.log(u),this.isLoading=!1,this.errorMessage=u.error.error}}))}static{this.\u0275fac=function(S){return new(S||r)}}static{this.\u0275cmp=N({type:r,selectors:[["app-register"]],standalone:!0,features:[P],decls:43,vars:28,consts:[[1,"container","bg-main-light","shadow","show","p-5","rounded"],[1,"mb-4"],["action","",3,"submit","formGroup"],[1,"my-3"],["for","name"],["id","name","name","name","formControlName","name","type","text",1,"form-control",3,"ngClass"],[1,"alert","alert-danger"],["for","email"],["id","email","name","email","formControlName","email","type","email",1,"form-control",3,"ngClass"],["for","password"],["id","password","name","password","formControlName","password","type","password",1,"form-control",3,"ngClass"],["for","rePassword"],["id","rePassword","name","rePassword","formControlName","rePassword","type","password",1,"form-control"],["for","dateOfBirth"],["id","dateOfBirth","name","dateOfBirth","formControlName","dateOfBirth","type","date",1,"form-control",3,"ngClass"],["for","gender"],["id","gender","name","gender","formControlName","gender","type","gender",1,"form-select",3,"ngClass"],["value","male"],["value","female"],["type","submit",1,"btn-main","w-100","fs-4",3,"disabled"],[1,"fa-solid","fa-circle-notch","fa-spin"],["routerLink","/login",1,"mt-3","alert-link","text-main","cr","registerbutt"]],template:function(S,e){if(S&1&&(i(0,"section",0)(1,"h2",1),n(2,"Register"),t(),i(3,"div")(4,"form",2),B("submit",function(){return e.signupSubmit()}),i(5,"div",3)(6,"label",4),n(7,"Full Name:"),t(),h(8,"input",5),c(9,J,2,0,"p",6),t(),i(10,"div",3)(11,"label",7),n(12,"Email Addres:"),t(),h(13,"input",8),c(14,K,2,0,"p",6),t(),i(15,"div",3)(16,"label",9),n(17,"Password:"),t(),h(18,"input",10),c(19,Q,2,0,"p",6),t(),i(20,"div",3)(21,"label",11),n(22,"Confirm Password:"),t(),h(23,"input",12),c(24,W,3,0,"div",6),t(),i(25,"div",3)(26,"label",13),n(27,"Date of Birth:"),t(),h(28,"input",14),t(),i(29,"div",3)(30,"label",15),n(31,"Gender:"),t(),i(32,"select",16)(33,"option",17),n(34,"Male"),t(),i(35,"option",18),n(36,"Female"),t()()(),c(37,X,2,1,"p",6),i(38,"button",19),n(39," Sign up "),c(40,Y,1,0,"i",20),t(),i(41,"p",21),n(42," have an account? Sign in "),t()()()()),S&2){let o,_,a,v,s,C,b,m,d;l(4),p("formGroup",e.registerForm),l(4),p("ngClass",w(13,y,!((o=e.registerForm.get("name"))!=null&&o.errors)&&(((o=e.registerForm.get("name"))==null?null:o.touched)||((o=e.registerForm.get("name"))==null?null:o.dirty)),((o=e.registerForm.get("name"))==null?null:o.errors)&&(((o=e.registerForm.get("name"))==null?null:o.touched)||((o=e.registerForm.get("name"))==null?null:o.dirty)))),l(),F(9,(_=e.registerForm.get("name"))!=null&&_.errors&&((_=e.registerForm.get("name"))!=null&&_.touched||(_=e.registerForm.get("name"))!=null&&_.dirty)?9:-1),l(4),p("ngClass",w(16,y,!((a=e.registerForm.get("email"))!=null&&a.errors)&&(((a=e.registerForm.get("email"))==null?null:a.touched)||((a=e.registerForm.get("email"))==null?null:a.dirty)),((a=e.registerForm.get("email"))==null?null:a.errors)&&(((a=e.registerForm.get("email"))==null?null:a.touched)||((a=e.registerForm.get("email"))==null?null:a.dirty)))),l(),F(14,(v=e.registerForm.get("email"))!=null&&v.errors&&((v=e.registerForm.get("email"))!=null&&v.touched||(v=e.registerForm.get("email"))!=null&&v.dirty)?14:-1),l(4),p("ngClass",w(19,y,!((s=e.registerForm.get("password"))!=null&&s.errors)&&(((s=e.registerForm.get("password"))==null?null:s.touched)||((s=e.registerForm.get("password"))==null?null:s.dirty)),((s=e.registerForm.get("password"))==null?null:s.errors)&&(((s=e.registerForm.get("password"))==null?null:s.touched)||((s=e.registerForm.get("password"))==null?null:s.dirty)))),l(),F(19,(C=e.registerForm.get("password"))!=null&&C.errors&&((C=e.registerForm.get("password"))!=null&&C.touched||(C=e.registerForm.get("password"))!=null&&C.dirty)?19:-1),l(5),F(24,e.registerForm.getError("mismatch")&&((b=e.registerForm.get("rePassword"))!=null&&b.touched)?24:-1),l(4),p("ngClass",w(22,y,!((m=e.registerForm.get("dateOfBirth"))!=null&&m.errors)&&(((m=e.registerForm.get("dateOfBirth"))==null?null:m.touched)||((m=e.registerForm.get("dateOfBirth"))==null?null:m.dirty)),((m=e.registerForm.get("dateOfBirth"))==null?null:m.errors)&&(((m=e.registerForm.get("dateOfBirth"))==null?null:m.touched)||((m=e.registerForm.get("dateOfBirth"))==null?null:m.dirty)))),l(4),p("ngClass",w(25,y,!((d=e.registerForm.get("gender"))!=null&&d.errors)&&(((d=e.registerForm.get("gender"))==null?null:d.touched)||((d=e.registerForm.get("gender"))==null?null:d.dirty)),((d=e.registerForm.get("gender"))==null?null:d.errors)&&(((d=e.registerForm.get("gender"))==null?null:d.touched)||((d=e.registerForm.get("gender"))==null?null:d.dirty)))),l(5),F(37,e.errorMessage?37:-1),l(),p("disabled",e.isLoading),l(2),F(40,e.isLoading?40:-1)}},dependencies:[j,A,I,$,q,U,D,G,Z,V,k,M,T]})}}return r})();export{ae as RegisterComponent};
