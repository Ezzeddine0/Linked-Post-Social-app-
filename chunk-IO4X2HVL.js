import{g as b,h as _}from"./chunk-J7ER4BOE.js";import{a as C,b as d,c as x,d as w,g as L,h as y,i as F,n as M,p as E,r as N}from"./chunk-AZPCGIVJ.js";import"./chunk-L3S2AP4B.js";import{$ as g,Ab as n,Bb as v,Hb as S,Ma as r,Y as m,ab as p,eb as c,ib as u,lb as t,mb as i,nb as s,rb as f,sb as h}from"./chunk-SER4P5WU.js";function D(e,k){if(e&1&&(t(0,"p",9),n(1),i()),e&2){let o=h();r(),v(o.errorMessage)}}function R(e,k){e&1&&s(0,"i",11)}var I=(()=>{class e{constructor(){this._FormBuilder=m(M),this._UsersService=m(N),this._Router=m(b),this.loginForm=this._FormBuilder.group({email:[null,d.required,d.email],password:[null,d.required]}),this.errorMessage="",this.isLoading=!1}loginSubmit(){this.isLoading=!0,this.errorMessage="",this._UsersService.signin(this.loginForm.value).subscribe({next:o=>{console.log(o),localStorage.setItem("userToken",o.token),this._Router.navigate(["/timeline"])},error:o=>{this.isLoading=!1,this.errorMessage="incorrect email or password",console.log(o)}})}static{this.\u0275fac=function(l){return new(l||e)}}static{this.\u0275cmp=g({type:e,selectors:[["app-login"]],standalone:!0,features:[S],decls:19,vars:4,consts:[[1,"container","bg-main-light","shadow","show","p-5","rounded"],["src","./assets/images/bird1.svg","height","100px","alt","",1,"w-25","my-auto","d-block","mx-auto"],[1,"h3","mb-4","text-center"],["action","",3,"ngSubmit","formGroup"],[1,"form-group","my-3"],["for","email"],["name","email","id","email","formControlName","email","type","email",1,"form-control"],["for","password"],["name","passowrd","id","password","formControlName","password","type","password",1,"form-control"],[1,"alert","alert-danger"],["type","submit",1,"btn-main","w-100","fs-4",3,"disabled"],[1,"fa-solid","fa-circle-notch","fa-spin"],["routerLink","/register",1,"mt-3","alert-link","text-main","cr","registerbutt"]],template:function(l,a){l&1&&(t(0,"section",0),s(1,"img",1),t(2,"h3",2),n(3,"Login"),i(),t(4,"form",3),f("ngSubmit",function(){return a.loginSubmit()}),t(5,"div",4)(6,"label",5),n(7,"Email Address:"),i(),s(8,"input",6),i(),t(9,"div",4)(10,"label",7),n(11,"Password:"),i(),s(12,"input",8),i(),p(13,D,2,1,"p",9),t(14,"button",10),n(15," Login "),p(16,R,1,0,"i",11),i(),t(17,"p",12),n(18," Don't have an account? Sign up "),i()()()),l&2&&(r(4),c("formGroup",a.loginForm),r(9),u(13,a.errorMessage?13:-1),r(),c("disabled",a.isLoading),r(2),u(16,a.isLoading?16:-1))},dependencies:[E,L,C,x,w,y,F,_],styles:["section[_ngcontent-%COMP%]{max-width:700px}.registerbutt[_ngcontent-%COMP%]:hover{color:#000}"]})}}return e})();export{I as LoginComponent};
